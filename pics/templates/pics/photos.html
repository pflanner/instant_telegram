{% extends 'pics/base.html' %}

{% block content %}
<div class="container my-5">
    <h2>{{username}}</h2>
    <input type="hidden" id="user_id" value="{{user_id}}" />
    {% csrf_token %}
    {% if user.username != username %}
        {% if is_following %}
        <button class="btn btn-primary" name="following" onclick="toggleFollow(this)">Following</button>
        {% else %}
        <button class="btn btn-outline-primary" name="not_following" onclick="toggleFollow(this)">Follow</button>
        {% endif %}
    {% endif %}
</div>

{% for media in media %}
<div class="container">
    {% if media.media_type == 'VIDEO' %}
    <video width="614" height="614" controls>
        <source src="{{media.url}}" type="video/mp4">
    </video>
    {% else %}
    <img src="{{media.url}}" width="614" height="614"/>
    {% endif %}
    <p>
        {% if media.caption %}
        {{media.caption}}
        {% endif %}
    </p>
</div>
{% endfor %}
{% endblock %}